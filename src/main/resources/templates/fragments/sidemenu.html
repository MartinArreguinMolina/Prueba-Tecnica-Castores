<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Navbar Bootstrap 5 - Dark</title>

    <style>
        .navbar .nav-link {
            position: relative;
            padding: .5rem 1rem;
            transition: color .3s;
        }
        .navbar .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: rgba(255,255,255,0.75);
            bottom: 0;
            left: 50%;
            transition: .3s;
        }
        .navbar .nav-link:hover::after {
            width: 60%;
            left: 20%;
        }
        .navbar .nav-link.active {
            background-color: rgba(255,255,255,0.25);
            border-radius: .5rem;
        }
    </style>
</head>
<body>

<nav th:fragment="sidebar(userName, rol)"
     class="navbar navbar-expand-lg navbar-dark bg-dark shadow sticky-top">
    <div class="container-fluid">

        <a class="navbar-brand d-flex align-items-center" href="#">
            <i class="bi bi-person-circle me-2"></i>
            <span class="fw-bold" th:text="${userName} + ' - ' + ${rol}"></span>
        </a>

        <button class="navbar-toggler" type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarContenido"
                aria-controls="navbarContenido"
                aria-expanded="false"
                aria-label="Alternar navegación">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarContenido">
            <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" th:classappend="${page} == 1 ? ' active' : ''" href="/index">
                        <i class="bi bi-house-door-fill me-1"></i>Inicio
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:classappend="${page} == 2 ? ' active' : ''" href="/inventario">
                        <i class="bi bi-box-seam me-1"></i>Inventario
                    </a>
                </li>
                <li class="nav-item" th:if="${session.user.rol.idRol} == 2">
                    <a class="nav-link" th:classappend="${page} == 3 ? ' active' : ''" href="/salidas">
                        <i class="bi bi-arrow-right-square-fill me-1"></i>Salidas
                    </a>
                </li>
                <li class="nav-item" th:if="${session.user.rol.idRol} == 1">
                    <a class="nav-link" th:classappend="${page} == 4 ? ' active' : ''" href="/historico">
                        <i class="bi bi-clock-history me-1"></i>Historial
                    </a>
                </li>
            </ul>

            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a href="/logout" class="nav-link btn  rounded-pill px-4">
                        <i class="bi bi-box-arrow-right me-1"></i>Cerrar sesión
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

</body>
</html>
